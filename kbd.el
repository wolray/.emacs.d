(define-key key-translation-map (kbd "<escape>") (kbd "C-g"))
(define-key key-translation-map (kbd "C-&") (kbd "C-S-<up>"))
(define-key key-translation-map (kbd "C-(") (kbd "S-<down>"))
(define-key key-translation-map (kbd "C-)") (kbd "C-S-<down>"))
(define-key key-translation-map (kbd "C-*") (kbd "S-<up>"))
(define-key key-translation-map (kbd "C-/") (kbd "H-/"))
(define-key key-translation-map (kbd "C-0") (kbd "C-<down>"))
(define-key key-translation-map (kbd "C-6") (kbd "C-h"))
(define-key key-translation-map (kbd "C-7") (kbd "C-<up>"))
(define-key key-translation-map (kbd "C-8") (kbd "<up>"))
(define-key key-translation-map (kbd "C-9") (kbd "<down>"))
(define-key key-translation-map (kbd "C-S-h") (kbd "H-S-h"))
(define-key key-translation-map (kbd "C-S-j") (kbd "S-<left>"))
(define-key key-translation-map (kbd "C-S-l") (kbd "S-<right>"))
(define-key key-translation-map (kbd "C-S-o") (kbd "C-S-<right>"))
(define-key key-translation-map (kbd "C-S-p") (kbd "C-S-e"))
(define-key key-translation-map (kbd "C-S-u") (kbd "C-S-<left>"))
(define-key key-translation-map (kbd "C-S-y") (kbd "C-S-a"))
(define-key key-translation-map (kbd "C-c") (kbd "C-w"))
(define-key key-translation-map (kbd "C-h") (kbd "H-h"))
(define-key key-translation-map (kbd "C-i") (kbd "H-i"))
(define-key key-translation-map (kbd "C-j") (kbd "<left>"))
(define-key key-translation-map (kbd "C-k") (kbd "C-c"))
(define-key key-translation-map (kbd "C-l") (kbd "<right>"))
(define-key key-translation-map (kbd "C-n") (kbd "C-/"))
(define-key key-translation-map (kbd "C-o") (kbd "C-<right>"))
(define-key key-translation-map (kbd "C-p") (kbd "C-e"))
(define-key key-translation-map (kbd "C-u") (kbd "C-<left>"))
(define-key key-translation-map (kbd "C-v") (kbd "C-y"))
(define-key key-translation-map (kbd "C-y") (kbd "C-a"))
(define-key key-translation-map (kbd "ESC") (kbd "C-g"))
(global-set-key (kbd "<f7>") 'symbol-overlay-mode)
(global-set-key (kbd "<f8>") 'symbol-overlay-remove-all)
(global-set-key (kbd "<f9>") 'linum-mode)
(global-set-key (kbd "C-,") 'c-navigate-backward)
(global-set-key (kbd "C-.") 'c-navigate-forward)
(global-set-key (kbd "C-<") 'c-window-prev)
(global-set-key (kbd "C-<backspace>") 'join-line)
(global-set-key (kbd "C-<return>") 'c-open-line-above)
(global-set-key (kbd "C->") 'c-window-next)
(global-set-key (kbd "C-M-0") 'mc/skip-to-next-like-this)
(global-set-key (kbd "C-M-7") 'mc/skip-to-previous-like-this)
(global-set-key (kbd "C-M-8") 'mc/mark-previous-like-this)
(global-set-key (kbd "C-M-9") 'mc/mark-next-like-this)
(global-set-key (kbd "C-M-\\") 'diff-hl-)
(global-set-key (kbd "C-M-k") 'c-kill-buffer-other-window)
(global-set-key (kbd "C-M-o") 'mc/skip-to-next-like-this)
(global-set-key (kbd "C-M-p") 'mc/unmark-next-like-this)
(global-set-key (kbd "C-M-u") 'mc/skip-to-previous-like-this)
(global-set-key (kbd "C-M-y") 'mc/unmark-previous-like-this)
(global-set-key (kbd "C-S-r") 'query-replace-regexp)
(global-set-key (kbd "C-b") 'bs-show)
(global-set-key (kbd "C-c 1") 'delete-other-windows)
(global-set-key (kbd "C-c 2") 'split-window-below)
(global-set-key (kbd "C-c 3") 'split-window-horizontally)
(global-set-key (kbd "C-c 4") 'delete-window)
(global-set-key (kbd "C-c 5") 'winner-undo)
(global-set-key (kbd "C-c C-c") 'kill-whole-line)
(global-set-key (kbd "C-c C-m") 'eval-last-sexp)
(global-set-key (kbd "C-c C-s") 'c-sort-text)
(global-set-key (kbd "C-c DEL") 'revert-buffer)
(global-set-key (kbd "C-c H-i") 'c-indent-paragraph)
(global-set-key (kbd "C-c SPC") 'c-open-folder)
(global-set-key (kbd "C-c b") 'eval-buffer)
(global-set-key (kbd "C-c e") 'eval-last-sexp)
(global-set-key (kbd "C-c f") 'find-file)
(global-set-key (kbd "C-c g") 'c-git-client)
(global-set-key (kbd "C-c m") 'c-reload-current-mode)
(global-set-key (kbd "C-c r") 'c-rename-file-and-buffer)
(global-set-key (kbd "C-d") 'c-duplicate)
(global-set-key (kbd "C-f") 'c-isearch)
(global-set-key (kbd "C-r") 'c-query-replace)
(global-set-key (kbd "C-s") 'save-buffer)
(global-set-key (kbd "C-t") 'recenter-top-bottom)
(global-set-key (kbd "C-w") 'c-kill-ring-save)
(global-set-key (kbd "C-x") 'c-kill-region)
(global-set-key (kbd "H-/") 'c-toggle-comment)
(global-set-key (kbd "H-h") 'c-matching-paren-jump)
(global-set-key (kbd "H-i") 'c-tab)
(global-set-key (kbd "M-,") 'complete-symbol)
(global-set-key (kbd "M--") 'git-gutter:previous-hunk)
(global-set-key (kbd "M-.") 'hippie-expand)
(global-set-key (kbd "M-0") 'c-transpose-paragraphs-down)
(global-set-key (kbd "M-7") 'c-transpose-paragraphs-up)
(global-set-key (kbd "M-8") 'c-transpose-lines-up)
(global-set-key (kbd "M-9") 'c-transpose-lines-down)
(global-set-key (kbd "M-=") 'git-gutter:next-hunk)
(global-set-key (kbd "M-DEL") 'git-gutter:revert-hunk)
(global-set-key (kbd "M-\\") 'git-gutter:popup-hunk)
(global-set-key (kbd "M-h") 'mc/mark-all-dwim)
(global-set-key (kbd "M-i") 'symbol-overlay-put)
(global-set-key (kbd "M-j") 'c-switch-to-prev-buffer)
(global-set-key (kbd "M-k") 'kill-this-buffer)
(global-set-key (kbd "M-l") 'c-switch-to-next-buffer)
(global-set-key (kbd "M-o") 'symbol-overlay-jump-next)
(global-set-key (kbd "M-p") 'symbol-overlay-switch-forward)
(global-set-key (kbd "M-u") 'symbol-overlay-jump-prev)
(global-set-key (kbd "M-y") 'symbol-overlay-switch-backward)
(global-set-key (kbd "S-<return>") 'c-open-line-below)

(defun ~ () (interactive) (message "~"))

(let ((map isearch-mode-map))
  (define-key map (kbd "C-S-r") 'isearch-query-replace-regexp)
  (define-key map (kbd "C-g") 'c-isearch-done)
  (define-key map (kbd "C-r") 'isearch-query-replace)
  (define-key map (kbd "M-o") 'isearch-repeat-forward)
  (define-key map (kbd "M-u") 'isearch-repeat-backward)
  )

(let ((map minibuffer-local-map))
  (define-key map (kbd "M-i") 'c-incf)
  (define-key map (kbd "M-h") 'c-each)
  )

(let ((map query-replace-map))
  (define-key map (kbd "t") 'recenter)
  (define-key map (kbd "h") 'automatic)
  (define-key map (kbd "r") 'backup)
  )

(with-eval-after-load 'bs
  (let ((map bs-mode-map))
    (define-key map (kbd ",") 'bs-select-other-window)
    (define-key map (kbd "-") 'bs-set-current-buffer-to-show-never)
    (define-key map (kbd ".") 'bs-select-other-window)
    (define-key map (kbd "5") 'bs-toggle-readonly)
    (define-key map (kbd "=") 'bs-set-current-buffer-to-show-always)
    (define-key map (kbd "i") 'bs-select)
    (define-key map (kbd "o") 'bs-down)
    (define-key map (kbd "u") 'bs-up)
    ))

(with-eval-after-load 'dired
  (let ((map dired-mode-map))
    (define-key map (kbd "k") 'dired-unmark-backward)
    (define-key map (kbd "o") 'dired-next-line)
    (define-key map (kbd "r") 'dired-find-file-other-window)
    (define-key map (kbd "u") 'dired-previous-line)
    ))

(with-eval-after-load 'org
  (let ((map org-mode-map))
    (define-key map (kbd "C-c n") 'org-open-at-point)
    (define-key map (kbd "C-c d") 'org-toggle-link-display)
    (define-key map (kbd "C-c C-i") 'org-edit-special)
    (define-key map (kbd "C-c k") 'org-table-blank-field)
    (define-key map (kbd "C-c o") 'org-table-toggle-coordinate-overlays)
    (define-key map (kbd "C-c C-s") 'org-sort)
    (define-key map (kbd "C-c u") 'org-table-recalculate)
    ))

(with-eval-after-load 'package
  (let ((map package-menu-mode-map))
    (define-key map (kbd "-") 'package-autoremove)
    (define-key map (kbd "o") 'next-line)
    (define-key map (kbd "u") 'previous-line)
    ))

(with-eval-after-load 'python-mode
  (let ((map python-mode-map))
    (define-key map (kbd "C-c h") 'python-shell-send-region)
    (define-key map (kbd "C-c C-m") 'c-python-shell-send-line)
    (define-key map (kbd "C-c r") 'run-python)
    (define-key map (kbd "DEL") 'backward-delete-char-untabify)
    ))

(with-eval-after-load 'symbol-overlay
  (let ((map symbol-overlay-map))
    (define-key map (kbd "c") 'symbol-overlay-save-symbol)
    (define-key map (kbd "f") 'symbol-overlay-isearch-literally)
    (define-key map (kbd "o") 'symbol-overlay-jump-next)
    (define-key map (kbd "u") 'symbol-overlay-jump-prev)
    ))
